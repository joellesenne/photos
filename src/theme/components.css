@layer components {
    @layer components {
        :root {
            --font-size-btn: calc(13px + 1vmin);
            --border-radius: 8px;
            --transition: 35ms;
            --transition-all: all 0.2s 0.1s ease-in-out;
        }
        .theme-switch {
            position: fixed;
            top: 0;
            right: 0;
            & span {
                position: absolute;
                top: 0;
                right: 0;
                cursor: pointer;
                color: var(--bg-color);
                background-color: var(--text-color);
                font-size: 17px;
                padding: 10px;
                transition: var(--transition);
                text-shadow: 1px 1px 0 var(--color-shadow-dark);
                @media (width >= 1024px) {
                    position: relative;
                }
                &:hover {
                    font-size: 19px;
                }
                &:before {
                    content: '';
                }
                @media (width >= 1024px) {
                    &:before {
                        content: 'Theme switch';
                        margin-inline-end: 15px;
                    }
                }
            }
        }
        .nav {
            margin-block-start: 10px;
            margin-block-end: 20px;
            & .btn {
                color: var(--color-link-btn);
                text-shadow: 2px 1px 0 var(--color-shadow-dark);
                background-color: var(--bg-link-btn);
                border: solid 3px var(--bg-link-btn-hover);
                box-shadow: 2px 1px 0 var(--color-shadow-light), 3px 2px 0 var(--color-shadow-dark);
                cursor: pointer;
                transition: var(--transition-all);
                &:hover,
                &.active {
                    color: var(--bg-link-btn);
                    background-color: var(--color-link-btn);
                    box-shadow: 2px 1px 0 var(--color-shadow-light), 3px 2px 0 var(--color-shadow-dark);
                }
                @media (width >= 768px) {
                    box-shadow: -7px 5px 0 var(--color-shadow-dark);
                }
            }
            &.pending {
                background-color: var(--bg-link-btn);
            }
        }
        .scroll {
            position: fixed;
            min-width: auto;
            top: 70%;
            padding: 12px 8px 20px;
            right: -8px;
            font-size: 25px;
            color: var(--color-link-btn);
            text-shadow: none;
            line-height: .6;
            background-color: var(--bg-link-btn);
            box-shadow: 2px 1px 0 var(--color-shadow-light), 3px 2px 0 var(--color-shadow-dark);
            cursor: pointer;

            &:hover {
                background-color: chocolate;
                box-shadow: var(--color-shadow-hover);
            }
            @media (width >= 768px) {
                animation: translateTop var(--transition) cubic-bezier(.66,.01,1,.53)  infinite;
                transition: var(--transition);
            }
        }
        .gallery {
            margin-block: 10px;
            height: auto;
            &::after {
                content: "";
                flex-grow: 999;
            }
            @media (width > 768px) {
                flex-direction: row;
            }
            & > figure {
                flex: 1 1 auto;
                flex-grow: 1;
                position: relative;
                height: 300px;
                border-radius: var(--border-radius);
                overflow: hidden;
                cursor: zoom-in;
                &.show {
                    position: fixed;
                    top: 0;
                    left: 0;
                    bottom: 0;
                    right: 0;
                    height: 100%;
                    background: rgba(57, 57, 57, 0.602);
                    backdrop-filter: blur(3px);
                    cursor: zoom-out;
                    z-index: 999;
                }
            }
            &:has(figure:hover) figure:not(:hover) {
                & img {
                    filter: brightness(0.35);
                }
            }
            & figure {
                & img {
                    box-shadow: 1px 2px 4px 2px rgba(32, 12, 113,.2);
                    object-fit: cover;
                    transition: var(--transition-all);
                }
                &:hover img {
                    transform: scale(1.1);
                }
                &.show img {
                    object-fit: contain;
                    transform: scale(1);
                    animation: fadeIn 1000ms;
                }
                & .overlay {
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    padding: 10px;
                    color: oklch(95% 0.019 46.81);
                    font-size: calc(10px + 2vmin);
                    text-align: center;
                    border-radius: var(--border-radius);
                    transform: scale(0);
                    transition: var(--transition-all);
                    > span {
                        text-shadow: 2px 1px 0 var(--color-shadow-light), 3px 2px 0 var(--color-shadow-dark);
                    }
                }
                &:hover .overlay {
                    transform: scale(1);
                }
                &.show .overlay {
                    align-items: end;
                    padding-block-end: 10px;
                    font-size: calc(15px + 2vmin);
                    background-color: transparent;
                    animation: fadeIn 1000ms;
                    transform: scale(1);
                    transition: var(--transition-all);
                }
                &.hide {
                    & .overlay {
                        opacity: 0;
                        background-color: transparent;
                        transform: scale(1);
                    }
                    &:hover .overlay {
                        opacity: 1;
                        background: rgba(57, 57, 57, 0.502);
                        transform: scale(1.1);
                    }
                }
            }
        }
        @keyframes fadeIn {
            0% {opacity: 0;}
            100% {opacity: 1;}
        }
        @keyframes translateTop {
            0% {transform: translateY(0);}
            50% {transform: translateY(-.5rem);}
            0% {transform: translateY(0);}
        }
    }
}